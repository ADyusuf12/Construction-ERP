<section class="bg-hamzis-white/30 dark:bg-hamzis-black/30 backdrop-blur-md border border-hamzis-brown/20 rounded-2xl shadow-lg p-6">
  <div class="flex items-center gap-2 mb-6">
    <div class="h-4 w-1 bg-hamzis-copper rounded-full"></div>
    <h3 class="text-[11px] font-black uppercase tracking-[0.2em] text-hamzis-brown dark:text-hamzis-copper">Stock Distribution</h3>
  </div>
  <% if (inventory_item.respond_to?(:stock_levels) && inventory_item.stock_levels.any?) || (inventory_item.respond_to?(:project_inventories) && inventory_item.project_inventories.any?) %>
    <div class="overflow-x-auto custom-scrollbar">
      <%# Added text-left to the table itself %>
      <table class="min-w-full border-separate border-spacing-0 text-left">
        <thead>
          <tr class="bg-hamzis-brown/90 dark:bg-hamzis-copper/10">
            <% ["Warehouse", "Qty", "Designation", "Status"].each do |head| %>
              <%# Added explicit text-left and consistent px-4 %>
              <th class="px-4 py-3 text-[9px] font-black uppercase tracking-[0.2em] text-hamzis-copper border-b border-hamzis-copper/10 text-left">
                <%= head %>
              </th>
            <% end %>
          </tr>
        </thead>
        <tbody class="divide-y divide-hamzis-brown/10 dark:divide-hamzis-copper/10">
          <% (inventory_item.try(:stock_levels) || []).each do |stock| %>
            <tr class="group hover:bg-white/40 dark:hover:bg-hamzis-copper/5 transition-all">
              <%# Ensuring every cell matches text-left and px-4 %>
              <td class="px-4 py-4 text-xs font-black text-hamzis-brown dark:text-white uppercase text-left">
                <%= stock.warehouse&.name %>
              </td>
              <td class="px-4 py-4 font-mono text-xs font-bold text-hamzis-brown dark:text-hamzis-copper text-left">
                <%= stock.quantity %> <span class="text-[9px] opacity-50 ml-1"><%= inventory_item.unit %></span>
              </td>
              <td class="px-4 py-4 text-[10px] text-hamzis-brown/60 dark:text-hamzis-textDark/60 italic text-left">
                <%= stock.warehouse&.code %>
              </td>
              <td class="px-4 py-4 text-left">
                <% is_low = stock.quantity <= (inventory_item.reorder_threshold || 0) %>
                <span class="inline-flex items-center gap-1.5 px-2 py-0.5 rounded border <%= is_low ? 'border-red-500/20 bg-red text-red-600' : 'border-green-500/20 bg-green-500/5 text-green-600' %> text-[9px] font-black uppercase tracking-widest">
                  <span class="h-1 w-1 rounded-full <%= is_low ? 'bg-red-600' : 'bg-green-600' %>"></span>
                  <%= is_low ? 'Low Stock' : 'Optimized' %>
                </span>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% else %>
    <div class="py-12 text-center border-2 border-dashed border-hamzis-brown/10 rounded-xl">
      <p class="text-[10px] font-black uppercase tracking-widest text-hamzis-brown/40 dark:text-hamzis-copper/40">No site stock records found</p>
    </div>
  <% end %>
</section>
