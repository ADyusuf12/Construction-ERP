<div class="bg-hamzis-white/30 dark:bg-hamzis-black/30 backdrop-blur-md
            border border-hamzis-brown/20 rounded-xl shadow-lg p-6">
  <h2 class="text-2xl font-bold text-hamzis-brown dark:text-hamzis-copper mb-4">
    Stock Movement Details
  </h2>
  <dl class="grid grid-cols-2 gap-x-6 gap-y-4 text-sm">
    <dt class="font-medium">Date</dt>
    <dd><%= l(@stock_movement.created_at, format: :long) %></dd>
    <dt class="font-medium">Type</dt>
    <dd><%= @stock_movement.movement_type.humanize %></dd>
    <dt class="font-medium">Item</dt>
    <dd><%= @stock_movement.inventory_item&.name || "—" %></dd>
    <dt class="font-medium">Quantity</dt>
    <dd><%= @stock_movement.quantity %> <%= @stock_movement.inventory_item&.unit.presence || "—" %></dd>
    <dt class="font-medium">Project</dt>
    <dd><%= @stock_movement.project&.name || "—" %></dd>
    <dt class="font-medium">Warehouse</dt>
    <dd>
      <% if @stock_movement.source_warehouse.present? %>
        From: <%= @stock_movement.source_warehouse.name %>
      <% elsif @stock_movement.destination_warehouse.present? %>
        To: <%= @stock_movement.destination_warehouse.name %>
      <% else %>
        —
      <% end %>
    </dd>
    <dt class="font-medium">Reference</dt>
    <dd><%= @stock_movement.reference.presence || "—" %></dd>
    <dt class="font-medium">Notes</dt>
    <dd><%= simple_format(@stock_movement.notes.presence || "—") %></dd>
    <dt class="font-medium">Recorded By</dt>
    <dd><%= @stock_movement.employee&.full_name || "System" %></dd>
  </dl>
  <div class="mt-6 flex gap-2">
    <%= link_to "Back to Movements", inventory_inventory_item_stock_movements_path(@stock_movement.inventory_item),
        class: "px-3 py-1 rounded bg-hamzis-brown text-hamzis-white hover:bg-hamzis-copper transition" %>
    <% if policy([:inventory, @stock_movement]).update? %>
      <%= link_to "Edit", edit_inventory_inventory_item_stock_movement_path(@stock_movement.inventory_item, @stock_movement),
          class: "px-3 py-1 rounded bg-gray-600 text-white text-xs" %>
    <% end %>
    <% if policy([:inventory, @stock_movement]).destroy? %>
      <%= button_to "Delete", "#",
            class: "px-3 py-1 rounded bg-red-600 text-white hover:bg-red-800 transition",
            form: {
              "data-action" => "click->confirm-delete#open",
              "data-confirm-delete-title-param" => "Delete Movement?",
              "data-confirm-delete-message-param" => "Are you sure you want to delete this movement? This action cannot be undone.",
              "data-confirm-delete-confirm-path-param" => inventory_inventory_item_stock_movement_path(@stock_movement.inventory_item, @stock_movement)
            } %>
    <% end %>
  </div>
</div>
