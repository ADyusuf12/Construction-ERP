<h2 class="text-2xl font-bold mb-6">
  <% if @project %>
    Reports for <%= @project.name %>
  <% else %>
    All Reports
  <% end %>
</h2>
<!-- Dashboard Summary -->
<div class="grid md:grid-cols-4 gap-6 mb-8">
  <div class="bg-hamzis-white/30 dark:bg-hamzis-black/30 backdrop-blur-md
              border border-hamzis-brown/20 rounded-xl shadow-lg p-6 text-center">
    <p class="text-sm font-medium text-hamzis-brown dark:text-hamzis-copper">Total Reports</p>
    <p class="text-2xl font-bold"><%= @reports.count %></p>
  </div>
  <div class="bg-hamzis-white/30 dark:bg-hamzis-black/30 backdrop-blur-md
              border border-hamzis-brown/20 rounded-xl shadow-lg p-6 text-center">
    <p class="text-sm font-medium text-hamzis-brown dark:text-hamzis-copper">Draft</p>
    <p class="text-2xl font-bold"><%= @reports.status_draft.count %></p>
  </div>
  <div class="bg-hamzis-white/30 dark:bg-hamzis-black/30 backdrop-blur-md
              border border-hamzis-brown/20 rounded-xl shadow-lg p-6 text-center">
    <p class="text-sm font-medium text-hamzis-brown dark:text-hamzis-copper">Submitted</p>
    <p class="text-2xl font-bold"><%= @reports.status_submitted.count %></p>
  </div>
  <div class="bg-hamzis-white/30 dark:bg-hamzis-black/30 backdrop-blur-md
              border border-hamzis-brown/20 rounded-xl shadow-lg p-6 text-center">
    <p class="text-sm font-medium text-hamzis-brown dark:text-hamzis-copper">Reviewed</p>
    <p class="text-2xl font-bold"><%= @reports.status_reviewed.count %></p>
  </div>
</div>
<!-- New Report Button -->
<div class="mb-6 flex justify-end">
  <% if @project %>
    <%= link_to "➕ New Report", new_project_report_path(@project),
        class: "px-4 py-2 rounded bg-hamzis-copper text-hamzis-white hover:bg-hamzis-black transition" %>
  <% else %>
    <%= link_to "➕ New Report", new_report_path,
        class: "px-4 py-2 rounded bg-hamzis-copper text-hamzis-white hover:bg-hamzis-black transition" %>
  <% end %>
</div>
<!-- Reports Table -->
<div class="overflow-x-auto bg-hamzis-white/30 dark:bg-hamzis-black/30 backdrop-blur-md
            border border-hamzis-brown/20 rounded-xl shadow-lg p-6">
  <% if @reports.any? %>
    <table class="min-w-full text-sm text-left">
      <thead>
        <tr class="text-hamzis-brown dark:text-hamzis-copper border-b border-hamzis-brown/20">
          <th class="px-4 py-2">Date</th>
          <th class="px-4 py-2">Type</th>
          <th class="px-4 py-2">Status</th>
          <th class="px-4 py-2">Author</th>
          <% unless @project %>
            <th class="px-4 py-2">Project</th>
          <% end %>
          <th class="px-4 py-2">Summary</th>
          <th class="px-4 py-2">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @reports.each do |report| %>
          <%= render "reports/report_row", report: report, show_project: !@project %>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <div class="text-center py-6">
      <p class="text-lg font-semibold text-hamzis-brown dark:text-hamzis-copper">No reports yet</p>
      <p class="text-sm mt-2">Start by creating your first report.</p>
      <div class="mt-4">
        <% if @project %>
          <%= link_to "➕ New Report", new_project_report_path(@project),
              class: "px-4 py-2 rounded bg-hamzis-copper text-hamzis-white hover:bg-hamzis-black transition" %>
        <% else %>
          <%= link_to "➕ New Report", new_report_path,
              class: "px-4 py-2 rounded bg-hamzis-copper text-hamzis-white hover:bg-hamzis-black transition" %>
        <% end %>
      </div>
    </div>
  <% end %>
</div>
