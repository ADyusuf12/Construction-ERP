<% if user_signed_in? && policy(Business::Client).index? %>
  <div class="space-y-4 py-2">
    <!-- Section Header -->
    <div class="px-3">
      <span class="block text-[10px] font-black uppercase tracking-[0.3em] text-hamzis-brown/40 dark:text-white border-b border-hamzis-brown/10 dark:border-hamzis-copper/10 pb-1 mb-2">
        Business
      </span>
    </div>
    <div class="px-2 space-y-1">
      <%# Clients Dropdown %>
      <div class="group">
        <button type="button"
                class="flex justify-between items-center w-full px-3 py-2.5 rounded-xl border border-transparent hover:bg-hamzis-brown/5 dark:hover:bg-hamzis-copper/5 transition-all duration-300"
                onclick="document.getElementById('clients-dropdown').classList.toggle('hidden')">
          <span class="flex items-center">
            <svg class="w-4 h-4 mr-3 text-hamzis-brown/70 dark:text-hamzis-copper/70 group-hover:text-hamzis-copper transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a4 4 0 00-4-4h-1m-6 6H2v-2a4 4 0 014-4h1m6-6a4 4 0 110-8 4 4 0 010 8zm6 4a4 4 0 11-8 0 4 4 0 018 0z" />
            </svg>
            <span class="text-[11px] font-black uppercase tracking-widest text-hamzis-brown dark:text-hamzis-copper">Clients</span>
          </span>
          <svg class="w-3 h-3 text-hamzis-brown/30 dark:text-hamzis-copper/30 group-hover:text-hamzis-copper transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
            <path d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <div id="clients-dropdown" class="ml-9 mt-1 space-y-1 border-l-2 border-hamzis-brown/10 dark:border-hamzis-copper/10 hidden">
          <%= link_to business_clients_path,
                class: "flex items-center px-4 py-2 text-[10px] font-bold uppercase tracking-widest transition-all
                #{current_page?(business_clients_path) ? 'text-hamzis-copper border-l-2 border-hamzis-copper -ml-[2px] bg-hamzis-copper/5' : 'text-hamzis-brown/50 dark:text-hamzis-copper/40 hover:text-hamzis-brown dark:hover:text-white hover:bg-hamzis-brown/5'}" do %>
            All Clients
          <% end %>
          <% if policy(Business::Client).create? %>
            <%= link_to new_business_client_path,
                  class: "flex items-center px-4 py-2 text-[10px] font-bold uppercase tracking-widest transition-all
                  #{current_page?(new_business_client_path) ? 'text-hamzis-copper border-l-2 border-hamzis-copper -ml-[2px] bg-hamzis-copper/5' : 'text-hamzis-brown/50 dark:text-hamzis-copper/40 hover:text-hamzis-brown dark:hover:text-white hover:bg-hamzis-brown/5'}" do %>
              New Client
            <% end %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
<% end %>
