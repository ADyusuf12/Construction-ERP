<aside id="sidebar"
       data-controller="sidebar"
       class="w-64 h-screen sticky top-0 flex flex-col shrink-0
              bg-hamzis-brown/40 dark:bg-hamzis-black/40 backdrop-blur-xl
              border-r border-hamzis-brown/20
              text-hamzis-white dark:text-hamzis-copper
              shadow-xl transition-all duration-300 z-30">
  <!-- Logo Section (Fixed at top) -->
  <div class="relative px-4 py-10 border-b border-hamzis-brown/20 shrink-0 overflow-hidden flex flex-col items-center justify-center min-h-[160px]">
    <!-- Watermark: Shifted slightly up ( -translate-y-4 ) -->
    <div class="absolute inset-0 flex items-center justify-center pointer-events-none transform -translate-y-4">
      <img src="<%= asset_path('hamzis-logo.svg') %>"
         alt=""
         class="w-32 h-32 object-contain opacity-[0.50] dark:opacity-[0.30] scale-125 transition-all duration-700" />
    </div>
    <!-- Brand Details: Shifted slightly down ( translate-y-6 ) to sit "on the lap" of the logo -->
    <a href="<%= dashboard_home_path %>"
     class="relative z-10 flex flex-col items-center space-y-1 group transform translate-y-8">
      <span class="text-2xl font-black tracking-tighter uppercase
                 text-transparent bg-clip-text bg-gradient-to-br from-hamzis-copper via-hamzis-white to-hamzis-copper
                 group-hover:scale-105 transition-transform duration-300">
        Hamzis
      </span>
      <span class="text-[10px] font-bold tracking-[0.4em] uppercase text-hamzis-white/60 dark:text-hamzis-copper/60">
        Systems
      </span>
    </a>
  </div>
  <!-- Nav links (Scrollable area) -->
  <nav id="nav-menu" class="flex-1 px-4 py-6 space-y-4 text-sm overflow-y-auto custom-scrollbar">
    <%= link_to dashboard_home_path,
    class: "flex items-center px-3 py-2 rounded-lg transition-all duration-300 #{current_page?(dashboard_home_path) ? 'bg-gradient-to-r from-hamzis-copper to-hamzis-brown text-hamzis-white shadow-md' : 'hover:bg-hamzis-copper/20'}" do %>
      <svg class="w-5 h-5 mr-2 shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h7v7H3V3zm11 0h7v7h-7V3zM3 14h7v7H3v-7zm11 0h7v7h-7v-7z" />
      </svg>
      <span class="sidebar-label" data-sidebar-target="label">Dashboard</span>
    <% end %>
    <%= render "shared/sidebar/operations" %>
    <%= render "shared/sidebar/inventory" %>
    <%= render "shared/sidebar/hr" %>
    <%= render "shared/sidebar/accounting" %>
    <%= render "shared/sidebar/business" %>
  </nav>
  <!-- Auth Links (Fixed at bottom) -->
  <div class="p-4 border-t border-hamzis-brown/30 shrink-0">
    <%= render "shared/auth_links" %>
  </div>
</aside>
