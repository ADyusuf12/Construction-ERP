<aside id="sidebar" class="fixed md:sticky top-0 left-0 w-64 h-screen flex flex-col shrink-0
              bg-brand-secondary/95 md:bg-brand-secondary/20 dark:bg-brand-black/95 md:dark:bg-brand-black/60
              backdrop-blur-2xl border-r border-brand-secondary/10 dark:border-brand-primary/10
              text-brand-secondary dark:text-brand-primary
              shadow-2xl transform -translate-x-full md:translate-x-0
              transition-transform duration-300 z-50">
  <div class="relative px-4 py-12 border-b border-brand-secondary/10 dark:border-brand-primary/10 shrink-0 overflow-hidden flex flex-col items-center justify-center min-h-[160px]">
    <div class="absolute inset-0 flex items-center justify-center pointer-events-none transform -translate-y-2 opacity-30 dark:opacity-30">
      <img src="<%= asset_path('company-logo.svg') %>" alt="" class="w-40 h-40 object-contain grayscale" />
    </div>
    <a href="<%= dashboard_home_path %>" class="relative z-10 flex flex-col items-center group transform translate-y-10">
      <span class="text-3xl font-black tracking-tighter uppercase text-brand-secondary dark:text-white group-hover:text-brand-primary transition-colors duration-500">
        Earmark
      </span>
      <div class="flex items-center gap-2 mt-1">
        <div class="h-[1px] w-4 bg-brand-primary/40"></div>
        <span class="text-[9px] font-black tracking-[0.5em] uppercase text-brand-secondary/90 dark:text-brand-primary/90">
          Systems
        </span>
        <div class="h-[1px] w-4 bg-brand-primary/40"></div>
      </div>
    </a>
  </div>
  <nav id="nav-menu" class="flex-1 px-3 py-6 space-y-1 overflow-y-auto custom-scrollbar">
    <%# Dashboard: The Command Center Link %>
    <%= link_to dashboard_home_path,
        class: "flex items-center px-4 py-3 rounded-xl border border-transparent transition-all duration-500 group
        #{current_page?(dashboard_home_path) ?
          'bg-brand-secondary text-white shadow-lg shadow-brand-secondary/20' :
          'hover:bg-brand-secondary/5 dark:hover:bg-brand-primary/5 hover:border-brand-secondary/10'}" do %>
      <svg class="w-4 h-4 mr-3 shrink-0 <%= current_page?(dashboard_home_path) ? 'text-brand-primary' : 'text-current opacity-60' %>" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h7v7H3V3zm11 0h7v7h-7V3zM3 14h7v7H3v-7zm11 0h7v7h-7v-7z" />
      </svg>
      <span class="text-[11px] font-black uppercase tracking-widest leading-none">Dashboard</span>
    <% end %>
    <%# Modular Sections %>
    <%= render "shared/sidebar/operations" %>
    <%= render "shared/sidebar/inventory" %>
    <%= render "shared/sidebar/hr" %>
    <%= render "shared/sidebar/accounting" %>
    <%= render "shared/sidebar/business" %>
  </nav>
  <div class="shrink-0 border-t border-brand-secondary/10 dark:border-white/5">
    <%= render "shared/auth_links" %>
  </div>
</aside>