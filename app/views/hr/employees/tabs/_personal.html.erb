<div class="bg-brand-white/30 dark:bg-brand-black/30 backdrop-blur-md border border-brand-secondary/20 rounded-2xl shadow-xl p-8 animate-fade-in space-y-12">
    <% if employee.personal_detail.present? %>
    <!-- Section: Core Personnel Data -->
    <div>
        <div class="flex items-center gap-3 mb-8 pb-4 border-b border-brand-secondary/10">
            <div class="p-2.5 rounded-xl bg-brand-primary/10 text-brand-primary">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
            </div>
            <h4 class="text-[11px] font-black uppercase tracking-[0.2em] text-brand-secondary dark:text-brand-primary"> Identity Specs</h4>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-y-8 gap-x-12">
            <!-- Demographics -->
            <div class="space-y-6">
                <div>
                    <p class="text-[9px] font-black uppercase tracking-widest text-brand-primary mb-1">Birth Registry</p>
                    <p class="text-sm font-black text-brand-secondary dark:text-white font-mono"><%= employee.personal_detail.dob&.strftime("%d.%m.%Y") || "--.--.--" %></p>
                    <p class="text-[10px] text-brand-secondary/50 dark:text-brand-primary italic"><%= employee.personal_detail.gender.humanize %> | <%= employee.personal_detail.marital_status.humanize %></p>
                </div>
                <div>
                    <p class="text-[9px] font-black uppercase tracking-widest text-brand-primary mb-1">Contact Number</p>
                    <p class="text-sm font-bold text-brand-secondary dark:text-white"><%= employee.personal_detail.phone_number %></p>
                    <p class="text-[10px] text-brand-secondary/50 dark:text-brand-primary italic truncate"><%= employee.personal_detail.address %></p>
                </div>
            </div>
            <!-- Identification -->
            <div class="space-y-6">
                <div>
                    <p class="text-[9px] font-black uppercase tracking-widest text-brand-primary mb-1">Verified Credential</p>
                    <p class="text-sm font-bold text-brand-secondary dark:text-white uppercase"><%= employee.personal_detail.means_of_identification.humanize %></p>
                    <p class="text-[10px] text-brand-secondary/50 dark:text-brand-primary font-mono">ID Number: <%= employee.personal_detail.id_number %></p>
                </div>
            </div>
            <!-- Financials -->
            <div class="space-y-6">
                <div class="bg-brand-secondary/5 dark:bg-white/5 p-4 rounded-xl border border-brand-secondary/10">
                    <p class="text-[9px] font-black uppercase tracking-widest text-brand-primary mb-3">Bank Account</p>
                    <p class="text-xs font-black text-brand-secondary dark:text-white mb-1"><%= employee.personal_detail.account_name %></p>
                    <p class="text-sm font-black text-brand-secondary dark:text-white font-mono tracking-widest mb-1"><%= employee.personal_detail.account_number %></p>
                    <p class="text-[10px] font-bold text-brand-primary uppercase tracking-tighter"><%= employee.personal_detail.bank_name %></p>
                </div>
            </div>
        </div>
    </div>
    <% else %>
    <div class="py-12 text-center border-2 border-dashed border-brand-secondary/10 rounded-xl">
        <p class="text-[10px] font-black uppercase tracking-widest text-brand-secondary/40 dark:text-brand-primary/40">Incomplete Personal Profile</p>
    </div>
    <% end %>
    <!-- Section: Emergency Contacts -->
    <div>
        <div class="flex items-center gap-3 mb-8 pb-4 border-b border-brand-secondary/10">
            <div class="p-2.5 rounded-xl bg-brand-primary/10 text-brand-primary">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                </svg>
            </div>
            <h4 class="text-[11px] font-black uppercase tracking-[0.2em] text-brand-secondary dark:text-brand-primary">Emergency Protocols (Next of Kin)</h4>
        </div>
        <% if employee.next_of_kins.any? %>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <% employee.next_of_kins.each do |nok| %>
            <div class="bg-white/40 dark:bg-black/20 border border-brand-secondary/10 rounded-2xl p-6 shadow-sm group hover:border-brand-primary transition-all">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <p class="text-[9px] font-black uppercase tracking-widest text-brand-primary mb-1">Primary Kin</p>
                        <h5 class="text-sm font-black text-brand-secondary dark:text-white uppercase"><%= nok.name %></h5>
                    </div>
                    <span class="px-2 py-0.5 rounded bg-brand-secondary/10 text-brand-secondary dark:text-brand-primary text-[9px] font-black uppercase tracking-tighter">
                        <%= nok.relationship %>
                    </span>
                </div>
                <div class="space-y-2">
                    <p class="text-xs font-bold text-brand-secondary dark:text-white flex items-center gap-2">
                        <svg class="w-3 h-3 text-brand-primary" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
                        </svg>
                        <%= nok.phone_number %>
                    </p>
                    <p class="text-[10px] text-brand-secondary/50 dark:text-brand-primary/50 italic"><%= nok.address %></p>
                </div>
            </div>
            <% end %>
        </div>
        <% else %>
        <div class="py-8 text-center border-2 border-dashed border-brand-secondary/10 rounded-xl">
            <p class="text-[10px] font-black uppercase tracking-widest text-brand-secondary/40 dark:text-white">No Emergency Contacts Registered</p>
        </div>
        <% end %>
    </div>
</div>