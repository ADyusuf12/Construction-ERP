<h2 class="text-2xl font-bold mb-6">
  All Leave Requests
</h2>
<!-- Dashboard Summary -->
<div class="grid md:grid-cols-4 gap-6 mb-8">
  <div class="bg-hamzis-white/30 dark:bg-hamzis-black/30 backdrop-blur-md
              border border-hamzis-brown/20 rounded-xl shadow-lg p-6 text-center">
    <p class="text-sm font-medium text-hamzis-brown dark:text-hamzis-copper">Total Leaves</p>
    <p class="text-2xl font-bold"><%= @leaves.count %></p>
  </div>
  <div class="bg-hamzis-white/30 dark:bg-hamzis-black/30 backdrop-blur-md
              border border-hamzis-brown/20 rounded-xl shadow-lg p-6 text-center">
    <p class="text-sm font-medium text-hamzis-brown dark:text-hamzis-copper">Pending</p>
    <p class="text-2xl font-bold"><%= @leaves.status_pending.count %></p>
  </div>
  <div class="bg-hamzis-white/30 dark:bg-hamzis-black/30 backdrop-blur-md
              border border-hamzis-brown/20 rounded-xl shadow-lg p-6 text-center">
    <p class="text-sm font-medium text-hamzis-brown dark:text-hamzis-copper">Approved</p>
    <p class="text-2xl font-bold"><%= @leaves.status_approved.count %></p>
  </div>
  <div class="bg-hamzis-white/30 dark:bg-hamzis-black/30 backdrop-blur-md
              border border-hamzis-brown/20 rounded-xl shadow-lg p-6 text-center">
    <p class="text-sm font-medium text-hamzis-brown dark:text-hamzis-copper">Rejected</p>
    <p class="text-2xl font-bold"><%= @leaves.status_rejected.count %></p>
  </div>
</div>
<!-- New Leave Button -->
<div class="mb-6 flex justify-end">
  <% if policy(Hr::Leave.new).create? %>
    <%= link_to "âž• New Leave", new_hr_leave_path,
        class: "px-4 py-2 rounded bg-hamzis-copper text-hamzis-white hover:bg-hamzis-black transition" %>
  <% end %>
</div>
<!-- Filters row (simple server-side search) -->
<div class="mb-4 flex items-center gap-4">
  <%= form_with url: hr_leaves_path, method: :get, local: true, class: "flex gap-2" do |f| %>
    <%= f.select :status, Hr::Leave.statuses.keys.map { |s| [s.titleize, s] }, {prompt: "Filter By Status"},
          class: "w-full px-5 py-1 border rounded bg-transparent text-gray-900 dark:text-hamzis-copper focus:ring-hamzis-copper focus:border-hamzis-copper" %>
    <%= f.submit "Filter", class: "px-5 py-1 rounded bg-hamzis-copper text-white hover:bg-hamzis-black transition text-sm" %>
  <% end %>
  <%= link_to "Reset", hr_leaves_path, class: "px-5 py-1 rounded bg-gray-300 text-gray-900 hover:bg-gray-400 transition text-sm" %>
</div>
<!-- Leaves Table -->
<%= render "hr/leaves/leave_table", leaves: @leaves %>
