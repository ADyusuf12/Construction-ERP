<% content_for :title, "Salary Batch Details" %>
<h1 class="text-2xl font-bold text-hamzis-brown dark:text-hamzis-copper mb-6">
  Salary Batch: <%= @salary_batch.name %>
</h1>
<!-- Batch Metadata Card -->
<div class="bg-hamzis-white/30 dark:bg-hamzis-black/30 backdrop-blur-md
            border border-hamzis-brown/20 rounded-xl shadow-lg p-6 space-y-4">
  <p><span class="font-semibold">Period:</span> <%= @salary_batch.period_label %></p>
  <p><span class="font-semibold">Created At:</span> <%= @salary_batch.created_at.strftime("%B %d, %Y") %></p>
  <p><span class="font-semibold">Status:</span>
    <span class="px-2 py-1 rounded
      <%= @salary_batch.status_paid? ? 'bg-green-600 text-white' : @salary_batch.status_processed? ? 'bg-blue-600 text-white' : 'bg-hamzis-copper text-hamzis-white' %>">
      <%= @salary_batch.status.humanize %>
    </span>
  </p>
  <p><span class="font-semibold">Total Salaries:</span> <%= @salary_batch.salaries.count %></p>
  <p><span class="font-semibold">Total Net Pay:</span> <%= number_to_currency(@salary_batch.total_net_pay, unit: "₦") %></p>
</div>
<!-- Salaries Table -->
<div class="mt-8">
  <%= render "accounting/salaries/salaries_table", salaries: @salary_batch.salaries %>
</div>
<!-- Actions -->
<div class="mt-6 flex gap-2">
  <%= link_to "Edit", edit_accounting_salary_batch_path(@salary_batch),
      class: "px-3 py-1 rounded bg-hamzis-brown text-hamzis-white hover:bg-hamzis-copper transition" %>
  <%= link_to "← Back to Salary Batches", accounting_salary_batches_path,
      class: "px-3 py-1 rounded bg-hamzis-copper text-hamzis-white hover:bg-hamzis-black transition" %>
  <% if policy(@salary_batch).destroy? %>
    <%= button_to "Delete", "#",
        class: "px-3 py-1 rounded bg-red-600 text-white hover:bg-red-800 transition",
        form: {
          "data-action" => "click->confirm-delete#open",
          "data-confirm-delete-title-param" => "Delete Salary Batch?",
          "data-confirm-delete-message-param" => "Are you sure you want to delete this batch? This action cannot be undone.",
          "data-confirm-delete-confirm-path-param" => accounting_salary_batch_path(@salary_batch)
        } %>
  <% end %>
</div>
