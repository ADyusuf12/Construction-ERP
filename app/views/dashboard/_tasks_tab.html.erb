<% if policy_scope(Task).any? %>
  <div id="tasks-tab" class="tab-content hidden">
    <div class="bg-hamzis-white/30 dark:bg-hamzis-black/30 backdrop-blur-md
                border border-hamzis-brown/20 rounded-xl shadow-lg p-6">
      <h2 class="text-xl font-bold mb-4 text-hamzis-brown dark:text-hamzis-copper">Recent Tasks</h2>
      <% if @tasks.any? %>
        <table class="min-w-full text-sm text-left border-collapse">
          <thead>
            <tr class="bg-hamzis-brown/10 dark:bg-hamzis-copper/10 text-hamzis-brown dark:text-hamzis-copper uppercase text-xs tracking-wide">
              <th class="px-4 py-3">Title</th>
              <th class="px-4 py-3">Status</th>
              <th class="px-4 py-3">Due Date</th>
              <th class="px-4 py-3">Project</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-hamzis-brown/20">
            <% @tasks.each_with_index do |task, index| %>
              <tr id="<%= dom_id(task) %>" class="<%= index.even? ? 'bg-hamzis-brown/5 dark:bg-hamzis-copper/5' : '' %> hover:bg-hamzis-white/40 dark:hover:bg-hamzis-black/40 transition">
                <td class="px-4 py-3 font-semibold"><%= task.title %></td>
                <td class="px-4 py-3"><%= task.status.humanize %></td>
                <td class="px-4 py-3"><%= task.due_date&.strftime("%b %d, %Y") %></td>
                <td class="px-4 py-3"><%= task.project.name %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      <% else %>
        <p class="text-center py-6 text-sm text-hamzis-brown dark:text-hamzis-copper">No tasks available</p>
      <% end %>
    </div>
  </div>
<% end %>
