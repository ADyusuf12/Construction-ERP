<%# app/views/dashboard/_reports_tab.html.erb %>
<% if policy_scope(Report).any? %>
  <div class="space-y-6">
    <div class="flex items-center justify-between mb-4">
      <div>
        <h2 class="text-xl font-black text-brand-secondary dark:text-brand-primary uppercase tracking-tight">Intelligence Logs</h2>
        <p class="text-[9px] font-bold uppercase tracking-widest text-brand-secondary/40">Consolidated Field Reports & Site Documentation</p>
      </div>
      <div class="flex items-center gap-2">
        <span class="text-[10px] font-bold uppercase tracking-[0.2em] text-brand-secondary/40 dark:text-brand-primary/40">
          Sync Status:
        </span>
        <span class="inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-green-500/10 text-green-500 text-[9px] font-black uppercase tracking-widest border border-green-500/20">
          <div class="w-1 h-1 rounded-full bg-current animate-pulse"></div>
          Live
        </span>
      </div>
    </div>
    <div class="overflow-hidden bg-brand-white/30 dark:bg-brand-black/30 backdrop-blur-md border border-brand-secondary/20 rounded-2xl shadow-2xl">
      <% if reports.any? %>
        <div class="overflow-x-auto custom-scrollbar">
          <table class="min-w-full text-left border-separate border-spacing-0">
            <%# Reusing your Modular Header %>
            <%= render "reports/report_table_header", show_project: true %>
            <tbody class="divide-y divide-brand-secondary/10 dark:divide-brand-primary/10">
              <% reports.each_with_index do |report, index| %>
                <%# Reusing your detailed Row Partial with Action Buttons %>
                <%= render "reports/report_row",
                           report: report,
                           show_project: true,
                           row_class: index.even? ? "bg-brand-secondary/5 dark:bg-brand-primary/5" : "" %>
              <% end %>
            </tbody>
          </table>
        </div>
      <% else %>
        <div class="text-center py-20 border border-dashed border-brand-secondary/20 rounded-xl bg-black/5">
          <h3 class="text-xl font-black text-brand-secondary dark:text-brand-primary uppercase tracking-tighter italic opacity-50">Zero Intelligence Logs</h3>
          <p class="text-[10px] text-brand-secondary/40 dark:text-white/20 mt-2 uppercase tracking-widest italic">Awaiting site field data synchronization.</p>
        </div>
      <% end %>
    </div>
  </div>
<% end %>